@import '../core/style/variables';

:host {
  background-color: transparent;
  border: none;
  outline: none;

  font-family: $mainfont;
  font-size: 14px;

  padding: 0 12px;
  line-height: 32px;
  vertical-align: middle;

  box-shadow:
       1px 0 0 0 $gray-300,
       0 1px 0 0 $gray-300,
       1px 1px 0 0 $gray-300,
       1px 0 0 0 $gray-300 inset,
       0 1px 0 0 $gray-300 inset;

  cursor: pointer;
  transition: box-shadow 0.1s;

  &:hover {
    z-index:2;
    position:relative;

    background-color: $gray-100;
  }

  &:focus {
    box-shadow:
      2px 0 0 0 $gray-300,
      0 2px 0 0 $gray-300,
      2px 2px 0 0 $gray-300,
      2px 0 0 0 $gray-300 inset,
      0 2px 0 0 $gray-300 inset;
 }

  &:first-child {
    border-radius: 3px 0 0 3px;
  }

  &:last-child {
    border-radius: 0 3px 3px 0;
  }
}

:host.dt-button-toggle-item-disabled {
  pointer-events: none;
  color: $gray-300;
}


// TODO @thomas.pink: Remove this once theming is in place
@function dt-palette($default, $hover, $active) {
  $result: (
    default: $default,
    hover: $hover,
    active: $active,
  );
  @return $result;
}
$theme-light: (
  main: dt-palette($turquoise-600, $turquoise-700, $turquoise-800),
  error: dt-palette($red-600, $red-700, $red-800),
  is-dark: false
);
$theme-dark: (
  main: dt-palette($turquoise-500, $turquoise-400, $turquoise-300),
  error: dt-palette($red-600, $red-500, $red-400),
  is-dark: true
);

// TODO @thomas.pink: Move this to button theme once theming is in place
@mixin dt-button-toggle-theme-variants($theme) {
  $palette-names: 'main', 'error';
  $default-palette: 'main';

  @each $name in $palette-names {
    $is-dark: map-get($theme, 'is-dark');
    $palette: map-get($theme, $name);
    $default-color: map-get($palette, 'default');
    $hover-color: map-get($palette, 'hover');
    $active-color: map-get($palette, 'active');

    $namespace: ':host';
    @if $name != $default-palette {
      $namespace: ':host.dt-color-#{$name}';
    }

    & #{$namespace}.dt-button-toggle-item:not(.dt-button-toggle-item-disabled) {
      color: $default-color;
    }

    &#{$namespace}.dt-button-toggle-item:hover {
      box-shadow:
        1px 0 0 0 $hover-color,
        0 1px 0 0 $hover-color,
        1px 1px 0 0 $hover-color,
        1px 0 0 0 $hover-color inset,
        0 1px 0 0 $hover-color inset;
    }

    &#{$namespace}.dt-button-toggle-item-selected:focus {
      box-shadow:
        2px 0 0 0 $active-color,
        0 2px 0 0 $active-color,
        2px 2px 0 0 $active-color,
        2px 0 0 0 $active-color inset,
        0 2px 0 0 $active-color inset;
    }

    &#{$namespace}.dt-button-toggle-item-selected {
      z-index:1;
      position:relative;

      box-shadow:
        1px 0 0 0 $active-color,
        0 1px 0 0 $active-color,
        1px 1px 0 0 $active-color,
        1px 0 0 0 $active-color inset,
        0 1px 0 0 $active-color inset;
    }

  }
}

// TODO @thomas.pink: Remove this once theming is in place
@include dt-button-toggle-theme-variants($theme-light);
.dt-theme-dark {
  @include dt-button-toggle-theme-variants($theme-dark);
}
