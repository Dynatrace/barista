<ng-container *ngIf="idle">
  <span>{{value}}</span>
  <button dt-icon-button variant="nested" #edit aria-label="edit" (click)="enterEditing()">
    <dt-icon name="edit1"></dt-icon>
  </button>
</ng-container>

<dt-loading-spinner *ngIf="saving"></dt-loading-spinner>

<dt-form-field *ngIf="editing || saving">
  <input dtInput #input [required]="required" [disabled]="saving" [(ngModel)]="value"
    [errorStateMatcher]="errorStateMatcher" (keydown)="onKeyDown($event)" class="dt-form-field-input" />

  <dt-error *ngFor="let error of _errorChildrenSource | async" [id]="error.id">{{error.message}}</dt-error>

  <button dt-icon-button dtSuffix variant="nested" aria-label="save" (click)="saveAndQuitEditing()" >
    <dt-icon name="checkmark"></dt-icon>
  </button>

  <button dt-icon-button dtSuffix variant="nested" aria-label="cancel" (click)="cancelAndQuitEditing()">
    <dt-icon name="abort"></dt-icon>
  </button>

</dt-form-field>
