<button
  dt-icon-button
  [color]="color"
  [attr.tabindex]="tabIndex"
  [disabled]="disabled"
  [attr.aria-label]="ariaLabel"
  variant="secondary"
  #trigger
  #origin="cdkOverlayOrigin"
  cdk-overlay-origin
  (click)="open()"
  class="dt-context-dialog-open-trigger">
  <ng-container *ngIf="contextDialogIcon; else defaultSVGIcon">
    <ng-content select="[dtContextDialogIcon]"></ng-content>
  </ng-container>
</button>
<ng-template #defaultSVGIcon>
  <div class="dt-icon">
    <svg viewBox="0 0 512 512">
      <circle cx="404" cy="256" r="44"/>
      <circle cx="256" cy="256" r="44"/>
      <circle cx="108" cy="256" r="44"/>
    </svg>
  </div>
</ng-template>
<ng-template
  cdk-connected-overlay
  backdropClass="cdk-overlay-transparent-backdrop"
  hasBackdrop
  (backdropClick)="close()"
  (attach)="_onAttached()"
  (detach)="close()"
  [origin]="origin"
  [open]="isPanelOpen"
  [positions]="_positions">
  <div
    class="dt-context-dialog-panel"
    [attr.aria-labelledby]="ariaLabel"
    #panel
    role="dialog"
    dtTheme=":dark"
    >
    <div class="dt-context-dialog-content">
      <ng-content></ng-content>
    </div>
    <button
      dt-icon-button
      [color]="color"
      variant="secondary"
      class="dt-context-dialog-close-trigger"
      (click)="close()"
      aria-label="close"
      cdkFocusInitial>
      <div class="dt-icon">
        <svg viewBox="0 0 512 512">
          <path d="M434.191 134.378l-56.568-56.569L256 199.432 134.377 77.809l-56.568 56.569L199.432 256 77.809 377.623l56.568 56.568L256 312.568l121.623 121.623 56.568-56.568L312.568 256z"/>
        </svg>
      </div>
    </button>
  </div>
</ng-template>
