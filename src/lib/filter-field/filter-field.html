<div class="dt-filter-field-body">

  <div class="dt-filter-field-label"><dt-icon name="filter" class="dt-filter-field-icon"></dt-icon><span>{{label}}</span></div>

  <dt-filter-field-tag
    *ngFor="let filterData of _prefixFilters"
    [data]="filterData"
    [viewValues]="filterData.viewValues"
    (remove)="_handleTagRemove($event)"
    (edit)="_handleTagEdit($event)">
  </dt-filter-field-tag>

  <div class="dt-filter-field-infix">
    <span class="dt-filter-field-category" *ngIf="_filterByLabel">{{_filterByLabel}}</span>
    <input #input
      type="text"
      class="dt-filter-field-input"
      [dtAutocomplete]="autocomplete"
      [dtAutocompleteDisabled]="!_autocompleteOptionsOrGroups.length"
      (input)="_handleInputChange($event)"
      (keydown)="_handleInputKeyDown($event)"
      (keyup)="_handleInputKeyUp($event)"
      [value]="_inputValue">
    <dt-autocomplete #autocomplete="dtAutocomplete" [autoActiveFirstOption]="_currentRenderNode && !!_currentRenderNode.autocomplete" class="dt-filter-field-panel">
      <ng-container *ngFor="let optionOrGroupData of _autocompleteOptionsOrGroups">
        <dt-optgroup *ngIf="optionOrGroupData.group; else options" [label]="optionOrGroupData.group!.label">
          <dt-option *ngFor="let optionData of optionOrGroupData.group!.options" [value]="optionData">{{optionData.option.viewValue}}</dt-option>
        </dt-optgroup>
        <ng-template #options>
          <dt-option [value]="optionOrGroupData">{{ optionOrGroupData.option!.viewValue}}</dt-option>
        </ng-template>
      </ng-container>
    </dt-autocomplete>
  </div>

  <dt-filter-field-tag
    *ngFor="let filterData of _suffixFilters"
    [data]="filterData"
    [viewValues]="filterData.viewValues"
    (remove)="_handleTagRemove($event)"
    (edit)="_handleTagEdit($event)">
  </dt-filter-field-tag>

</div>
